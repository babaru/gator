<%= grid(@products_grid, :show_filters => :when_filtered) do |g|
  g.column name: '#' do |product|
    product.id
  end

  g.column name: t('activerecord.attributes.product.name'), class: 'project-title' do |product|
    [
      link_to(product.name, product_path(product)),
      content_tag(:div, [
        content_tag(:span, Product.product_running_status_names, class: 'label label-info'),
        content_tag(:span, "#{t('activerecord.attributes.product.code')}: "),
        content_tag(:strong, product.code)
      ].join(' ').html_safe)
    ].join('').html_safe
  end

  g.column name: t('activerecord.attributes.product.client_code') do |product|
    product.client_code
  end

  g.column name: t('activerecord.attributes.product.short_name') do |product|
    product.short_name
  end

  g.column name: t('activerecord.attributes.product.product_manager') do |product|
    product.product_manager.name if product.product_manager
  end

  g.column name: t('activerecord.attributes.product.product_type') do |product|
    Product.product_type_names[product.product_type]
  end

  g.column name: t('activerecord.attributes.product.product_dev_type') do |product|
    Product.product_dev_type_names[product.product_dev_type]
  end

  g.column name: t('activerecord.attributes.time_stamp.updated_at') do |product|
    product.updated_at.strftime('%Y-%m-%d %H:%M:%S')
  end

  g.column html: {class: 'project-actions'} do |product|
    [
      link_to(fa_icon("pencil"), edit_product_path(product), class: 'btn btn-white btn-sm', data: {toggle: 'tooltip'}, title: t('buttons.edit')),
      link_to(fa_icon("trash"), product_path(product), class: 'btn btn-danger btn-sm', method: :delete, data: {toggle: 'tooltip', confirm: t('confirms.delete')}, title: t('buttons.delete'))
    ].join(' ').html_safe
  end
end -%>
